<!DOCTYPE html>
<html lang="en">
<title>ðŸ§® Poolish bread recipe calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://unpkg.com/tachyons/css/tachyons.min.css">
<body class="w-100 avenir black-70 bg-white pa3 f3">
<nav class="center w-100 mw7 mb5-ns flex flex-column flex-row-ns justify-between items-end">
    <a href="https://ggalmazor.com" class="dib ttu link dim black-70 fw6 pt3-ns pr3-ns pb3-ns">ggalmazor.com</a>
</nav>
<section class="w-100 mw7 center">
    <h1 class="f3">ðŸ§® Poolish bread recipe calculator</h1>

    <p class="f3 f4-ns lh-copy measure-wide">This is an ingredient calculator for breads with poolish preferment. All quantities are expressed in grams. All yeast quantities are assumed to be of dry yeast, unless noted otherwise. If you're using fresh yeast, you'll have to multiply it by 3.</p>

    <section>
        <h2 class="f3 f4-ns">Parameters</h2>
        <div class="flex flex-column flex-row-ns">
            <div class="w-100 w-33-ns pr3-ns">
                <h3 class="f4 f5-ns mv3">Overall</h3>
                <div class="mb3">
                    <label for="total_dough_weight" class="f4 f5-ns db mb1">Desired dough weight <span class="normal black-60">(grams)</span></label>
                    <input id="total_dough_weight" name="total_dough_weight" type="number" value="1000" min="0" class="db border-box hover-black ba b--black-20 pa2 br2 mb2 w-100 w4-ns"/>
                </div>

                <div>
                    <label for="dough_hydration_percentage" class="f4 f5-ns db mb1">Desired dough hydration <span class="normal black-60">(%)</span></label>
                    <input id="dough_hydration_percentage" name="dough_hydration_percentage" type="number" value="80" max="100" min="0" class="db border-box hover-black ba b--black-20 pa2 br2 mb2 w-100 w4-ns"/>
                </div>
            </div>
            <div class="w-100 w-33-ns ph3-ns">
                <h3 class="f4 f5-ns mv3">Poolish</h3>

                <div class="mb3">
                    <label for="poolish_percentage" class="f4 f5-ns db mb1">Poolish percentage <span class="normal black-60">(%)</span></label>
                    <input id="poolish_percentage" name="poolish_percentage" type="number" value="40" max="100" min="0" class="db border-box hover-black ba b--black-20 pa2 br2 mb2 w-100 w4-ns"/>
                </div>

                <div class="mb3">
                    <label for="poolish_hydration_percentage" class="f4 f5-ns db mb1">Hydration percentage <span class="normal black-60">(%)</span></label>
                    <input id="poolish_hydration_percentage" name="poolish_hydration_percentage" type="number" value="125" min="0" class="db border-box hover-black ba b--black-20 pa2 br2 mb2 w-100 w4-ns"/>
                </div>

                <div>
                    <label for="poolish_yeast_percentage" class="f4 f5-ns db mb1">Poolish yeast percentage <span class="normal black-60">(%)</span></label>
                    <input id="poolish_yeast_percentage" name="poolish_yeast_percentage" type="number" value="0.1" min="0" step="0.1" class="db border-box hover-black ba b--black-20 pa2 br2 mb2 w-100 w4-ns"/>
                </div>
            </div>
            <div class="w-100 w-33-ns pl3-ns">
                <h3 class="f4 f5-ns mv3">Rest of dough</h3>

                <div class="mb3">
                    <label for="salt_percentage" class="f4 f5-ns db mb1">Salt percentage <span class="normal black-60">(%)</span></label>
                    <input id="salt_percentage" name="salt_percentage" type="number" value="2.4" min="0" step="0.1" class="db border-box hover-black ba b--black-20 pa2 br2 mb2 w-100 w4-ns"/>
                </div>

                <div class="mb3">
                    <label for="rest_yeast_percentage" class="f4 f5-ns db mb1">Yeast percentage for the rest <span class="normal black-60">(%)</span></label>
                    <input id="rest_yeast_percentage" name="rest_yeast_percentage" type="number" value="0.1" min="0" step="0.1" class="db border-box hover-black ba b--black-20 pa2 br2 mb2 w-100 w4-ns"/>
                </div>
            </div>
        </div>
    </section>

    <hr/>

    <section class="mb3">
        <h2 class="f3 f4-ns">Recipe</h2>
        <div class="flex flex-column flex-row-ns f4 f5-ns">
            <div class="w-100 w-33-ns pr3-ns">
                <dl class="lh-title mv2">
                    <dt class="dib fw5">Total flour:</dt>
                    <dd class="dib ml0 gray" id="total_flour_weight">0 g</dd>
                </dl>
                <dl class="lh-title mt2 mb0 mv2-ns">
                    <dt class="dib fw5">Total water:</dt>
                    <dd class="dib ml0 gray" id="total_water_weight">0 g</dd>
                </dl>
            </div>
            <div class="w-100 w-33-ns ph3-ns">
                <dl class="lh-title mv2">
                    <dt class="dib fw5">Poolish flour:</dt>
                    <dd class="dib ml0 gray" id="poolish_flour_weight">0 g</dd>
                </dl>
                <dl class="lh-title mv2">
                    <dt class="dib fw5">Poolish water:</dt>
                    <dd class="dib ml0 gray" id="poolish_water_weight">0 g</dd>
                </dl>
                <dl class="lh-title mt2 mb0 mv2-ns">
                    <dt class="dib fw5">Poolish yeast:</dt>
                    <dd class="dib ml0 gray" id="poolish_yeast_weight">0 g</dd>
                </dl>
            </div>
            <div class="w-100 w-33-ns pl3-ns">
                <dl class="lh-title mv2">
                    <dt class="dib fw5">Rest of flour:</dt>
                    <dd class="dib ml0 gray" id="rest_flour_weight">0 g</dd>
                </dl>
                <dl class="lh-title mv2">
                    <dt class="dib fw5">Rest of water:</dt>
                    <dd class="dib ml0 gray" id="rest_water_weight">0 g</dd>
                </dl>
                <dl class="lh-title mv2">
                    <dt class="dib fw5">Rest of yeast:</dt>
                    <dd class="dib ml0 gray" id="rest_yeast_weight">0 g</dd>
                </dl>
                <dl class="lh-title mt2 mb0 mv2-ns">
                    <dt class="dib fw5">Salt:</dt>
                    <dd class="dib ml0 gray" id="salt_weight">0 g</dd>
                </dl>
            </div>
        </div>
    </section>
    <hr/>
    <section>
        <h2 class="f3 f4-ns mb0">Formulae</h2>
        <ul class="list pa0 mt0">
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">total flour = desired dough / (1 + hydration percentage)</li>
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">total water = desired dough - total flour</li>
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">poolish flour = total flour * poolish percentage</li>
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">poolish water = poolish flour * poolish hydration percentage</li>
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">poolish yeast = poolish flour * poolish yeast percentage</li>
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">rest of flour = total flour - poolish flour</li>
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">rest of water = total water - poolish water</li>
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">rest of yeast = total flour - rest of dough yeast percentage</li>
            <li class="lh-copy pv3 ba bl-0 bt-0 br-0 b--dotted b--black-30">salt = total flour * salt percentage</li>
        </ul>
    </section>
</section>
<footer class="mt5 w-100 mw7 center">
    <p class="f6">
        <span class="dib mr2">@2024 ggalmazor.com</span>
        <span class="dib mr2">/</span>
        <span class="dib">Inspired by <a href="https://javisantana.com" class="link dim dark-blue fw5">javisantana.com</a></span>
    </p>
</footer>

<script>
  function round(number, decimalPlaces = 0) {
    const factor = Math.pow(10, decimalPlaces);
    return Math.round(number * factor) / factor;
  }

  function computeRecipe(dom) {
    const hydrationPercentage = dom.dough_hydration_percentage() / 100;

    const totalFlourWeight = dom.total_dough_weight() / (1 + hydrationPercentage);
    dom.total_flour_weight(round(totalFlourWeight));

    const totalWaterWeight = dom.total_dough_weight() - totalFlourWeight;
    dom.total_water_weight(round(totalWaterWeight));

    const poolishFlourWeight = totalFlourWeight * (dom.poolish_percentage() / 100);
    dom.poolish_flour_weight(round(poolishFlourWeight));

    const poolishWaterWeight = poolishFlourWeight * (dom.poolish_hydration_percentage() / 100);
    dom.poolish_water_weight(round(poolishWaterWeight));

    const poolishYeastWeight = poolishFlourWeight * (dom.poolish_yeast_percentage() / 100);
    dom.poolish_yeast_weight(round(poolishYeastWeight, 2));

    const restFlourWeight = totalFlourWeight - poolishFlourWeight;
    dom.rest_flour_weight(round(restFlourWeight));

    const restWaterWeight = totalWaterWeight - poolishWaterWeight;
    dom.rest_water_weight(round(restWaterWeight));

    const restYeastWeight = totalFlourWeight * (dom.rest_yeast_percentage() / 100);
    dom.rest_yeast_weight(round(restYeastWeight, 2));

    const saltWeight = totalFlourWeight * (dom.salt_percentage() / 100);
    dom.salt_weight(round(saltWeight, 2));
  }

  const int_getter = id => () => parseInt(document.querySelector(`#${id}`).value);
  const float_getter = id => () => parseFloat(document.querySelector(`#${id}`).value);
  const grams_setter = id => value => document.querySelector(`#${id}`).innerHTML = `${value}g`;

  document.addEventListener("DOMContentLoaded", () => {
    const dom = {
      total_dough_weight: int_getter('total_dough_weight'),
      dough_hydration_percentage: int_getter('dough_hydration_percentage'),
      poolish_percentage: int_getter('poolish_percentage'),
      poolish_hydration_percentage: int_getter('poolish_hydration_percentage'),
      poolish_yeast_percentage: float_getter('poolish_yeast_percentage'),
      salt_percentage: float_getter('salt_percentage'),
      rest_yeast_percentage: float_getter('rest_yeast_percentage'),
      total_flour_weight: grams_setter('total_flour_weight'),
      total_water_weight: grams_setter('total_water_weight'),
      poolish_flour_weight: grams_setter('poolish_flour_weight'),
      poolish_water_weight: grams_setter('poolish_water_weight'),
      poolish_yeast_weight: grams_setter('poolish_yeast_weight'),
      rest_flour_weight: grams_setter('rest_flour_weight'),
      rest_water_weight: grams_setter('rest_water_weight'),
      rest_yeast_weight: grams_setter('rest_yeast_weight'),
      salt_weight: grams_setter('salt_weight')
    }
    document.querySelectorAll("input").forEach(input => input.addEventListener("change", () => computeRecipe(dom)));
    computeRecipe(dom);
  });
</script>
</body>
</html>
